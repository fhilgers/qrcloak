# SPDX-FileCopyrightText: 2024 Felix Hilgers <contact@fhilgers.com>
#
# SPDX-License-Identifier: Apache-2.0
# SPDX-License-Identifier: MIT

diff --git a/src/library_mode.rs b/src/library_mode.rs
index c460c03d9..acf329c90 100644
--- a/src/library_mode.rs
+++ b/src/library_mode.rs
@@ -63,6 +63,7 @@ pub fn generate_external_bindings<T: BindingGenerator>(
     try_format_code: bool,
 ) -> Result<Vec<Source<T::Config>>> {
     let cargo_metadata = MetadataCommand::new()
+        .no_deps()
         .exec()
         .context("error running cargo metadata")?;
     let cdylib_name = calc_cdylib_name(library_path);
